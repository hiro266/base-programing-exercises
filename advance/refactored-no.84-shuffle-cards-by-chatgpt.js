// No. 84 ãƒˆãƒ©ãƒ³ãƒ—ã‚’åˆ‡ã‚‹
// ãƒˆãƒ©ãƒ³ãƒ—ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«é †ç•ªã‚’å¤‰ãˆã¦è¡¨ç¤ºã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œæˆã›ã‚ˆã€‚
// ãƒˆãƒ©ãƒ³ãƒ—ã¯4ã¤ã®ã‚¹ãƒ¼ãƒˆï¼ˆãƒžãƒ¼ã‚¯ï¼‰ã€1ã€œ13ã¾ã§ã®æ•°å­—ã®52æžšã§ã‚ã‚‹ã€‚
// ãƒˆãƒ©ãƒ³ãƒ—ã‚’è¡¨ç¾ã™ã‚‹é…åˆ—ã‚’ä½œã‚Šã€é©å½“ã«é †åºã‚’å…¥ã‚Œæ›¿ãˆã¦ã„ã‘ã°ã‚ˆã„ã€‚
// é©å½“ã«é †åºã‚’å…¥ã‚Œæ›¿ãˆã‚‹ã«ã¯ã€ä¾‹ãˆã°2ã¤ã®å…¥ã‚Œæ›¿ãˆã‚‹ã‚«ãƒ¼ãƒ‰ã‚’ä¹±æ•°ã‚’ä½¿ã£ã¦é¸ã³ã€ãã‚Œã‚‰ã‚’å…¥ã‚Œæ›¿ãˆã‚‹æ“ä½œã‚’ä½•å›žã‚‚ç¹°ã‚Šè¿”ã›ã°ã‚ˆã„ã€‚

// ðŸ’¡PointðŸ’¡
// 1. è¤‡æ•°ã®ãƒã‚¹ãƒˆã—ãŸforEachã§åˆæœŸåŒ–ã—ãŸcardsã«push â†’ flatMapã¨mapã®çµ„ã¿åˆã‚ã›ã§ã‚¹ãƒƒã‚­ãƒª
//   - ãªãœflatMapã‚’ä½¿ã†? mapã¨mapã®çµ„ã¿åˆã‚ã›ã§ã¯å®Ÿè£…ã§ããªã„ï¼Ÿ
//   - map in map â†’ [[ã‚¹ãƒšãƒ¼ãƒ‰1, ã‚¹ãƒšãƒ¼ãƒ‰2, ...]] ã¨ãªã‚‹ã®ã§flatMapã§ [ã‚¹ãƒšãƒ¼ãƒ‰1, ã‚¹ãƒšãƒ¼ãƒ‰2,...]ã¨ã™ã‚‹
// 2. Fisherâ€“Yates(ãƒ•ã‚£ãƒƒã‚·ãƒ£ãƒ¼â€“ã‚¤ã‚§ãƒ¼ãƒ„)ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã®æ”¹å–„
//   - èª­ã¿ã¥ã‚‰ã„ã®ã§ãªã— ä¾‹ã ã‘è²¼ã£ã¦ãŠã

const suits = ["ã‚¹ãƒšãƒ¼ãƒ‰", "ãƒãƒ¼ãƒˆ", "ãƒ€ã‚¤ãƒ¤", "ã‚¯ãƒ©ãƒ–"];
const numbers = [...Array(13)].map((_, index) => index + 1);
const cards = suits.flatMap((suit) =>
  numbers.map((number) => `${suit}${number}`)
);

let num = cards.length;
while (num) {
  let i = Math.floor(Math.random() * num);
  num--; // num = num - 1 â†’ num = 3
  // åˆæœŸ [ 'ã‚¹ãƒšãƒ¼ãƒ‰1', 'ãƒãƒ¼ãƒˆ1', 'ãƒ€ã‚¤ãƒ¤1', 'ã‚¯ãƒ©ãƒ–1' ]
  let str = cards[num];
  // cards[3] = ã‚¯ãƒ©ãƒ–1 â†’ str = ã‚¯ãƒ©ãƒ–1
  cards[num] = cards[i];
  //  i = 2, num = 3
  //  cards[3] = ã‚¯ãƒ©ãƒ–1, cards[2] = ãƒ€ã‚¤ãƒ¤1
  // ã‚¯ãƒ©ãƒ–1ã®ç®‡æ‰€ã«ã¯ãƒ€ã‚¤ãƒ¤1ãŒå…¥ã‚‹
  // [ 'ã‚¹ãƒšãƒ¼ãƒ‰1', 'ãƒãƒ¼ãƒˆ1', 'ãƒ€ã‚¤ãƒ¤1', 'ãƒ€ã‚¤ãƒ¤1' ]
  cards[i] = str;
  // cards[2] = ãƒ€ã‚¤ãƒ¤1, str = ã‚¯ãƒ©ãƒ–1
  // ãƒ€ã‚¤ãƒ¤1ã®ç®‡æ‰€ã«ã¯ã‚¯ãƒ©ãƒ–1ãŒå…¥ã‚‹
  // [ 'ã‚¹ãƒšãƒ¼ãƒ‰1', 'ãƒãƒ¼ãƒˆ1', 'ã‚¯ãƒ©ãƒ–1', 'ãƒ€ã‚¤ãƒ¤1' ]
}

// â†‘ ä¸‹è¨˜ã®ã‚ˆã†ã«è¡¨ç¾ã§ãã‚‹ãŒç†è§£ãŒåŠã°ãªã„ãŸã‚ä¾‹ã‚’ã‚ã’ã‚‹ã«ç•™ã‚ã‚‹
// for (let i = cards.length - 1; i > 0; i--) {
//   const j = Math.floor(Math.random() * (i + 1));
//   [cards[i], cards[j]] = [cards[j], cards[i]];
// }

cards.forEach((card, index) => {
  console.log(`${index}:${card}`);
});
